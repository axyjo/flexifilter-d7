<?php
// $Id$

class FlexifilterAdministrationTestCase extends DrupalWebTestCase {
  var $admin_user;
  var $basic_user;
  
  public static function getInfo() {
    return array(
      'name' => t('Administration'),
      'description' => t('Administration tests for Flexifilter.'),
      'group' => t('Flexifilter'),
    );
  }
  
  public function setUp() {
    parent::setUp('flexifilter');
  }
  
  public function testPermissions() {
    $this->admin_user = $this->drupalCreateUser(array('administer nodes', 'administer flexifilter'));
    $this->basic_user = $this->drupalCreateUser();
    $this->drupalLogin($this->admin_user);
    $this->drupalGet('admin/structure/flexifilters');
    $this->assertText('Enabled Flexifilters');
    $this->assertText('Disabled Flexifilters');
    $this->drupalLogin($this->basic_user);
    $this->drupalGet('admin/structure/flexifilters');
    $this->assertNoText('Enabled Flexifilters');
    $this->assertNoText('Disabled Flexifilters');
  }
}
